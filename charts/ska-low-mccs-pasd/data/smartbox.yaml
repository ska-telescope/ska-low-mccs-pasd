name: "smartbox-{{.Release.Name}}"
function: ska-low-mccs-pasd
domain: ska-low-mccs-pasd
instances: ["smartbox-00001"] #TODO: make dynamic
# entrypoints:
#   - name: "smartbox.MccsSmartBoxDevice"
#     path: "/app/src/ska_low_mccs_pasd/smart_box/smart_box_device.py"
command: MccsSmartBox
server: 
  name: "MccsSmartBox"
  instances:
    - name: "smartbox-00001"
      classes:
      - name: "MccsSmartBox"
        devices:
        - name: "low-mccs-pasd/smartbox/00001"
          properties:
          - name: "LoggingLevelDefault"
            values: 
            - "5"
depends_on:
  - device: sys/database/2
image:
  registry: "{{.Values.low_mccs_pasd.image.registry}}"
  image: "{{.Values.low_mccs_pasd.image.image}}"
  tag: "{{.Values.low_mccs_pasd.image.tag}}"
  pullPolicy: "{{.Values.low_mccs_pasd.image.pullPolicy}}"
livenessProbe:
{{ toYaml .Values.livenessProbe | indent 2 }}
readinessProbe:
{{ toYaml .Values.readinessProbe | indent 2 }}