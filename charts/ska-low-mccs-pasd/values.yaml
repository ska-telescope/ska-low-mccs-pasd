# Default values for mccs (ska-low-mccs-pasd)
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

display: ":0"
xauthority: "~/.Xauthority"

system: SW-infrastructure
subsystem: low-mccs-pasd
telescope: SKA-low

labels:
  app: ska-low-mccs-pasd

global:
  minikube: true
  tango_host: databaseds-tango-base:10000
  cluster_domain: cluster.local


resources:
  requests:
    cpu: 20m
    memory: 50Mi

# The image to use for simulators etc
image:
  registry: artefact.skao.int
  name: ska-low-mccs-pasd
  tag: ~ # defaults to chart's appVersion when empty
  pullPolicy: IfNotPresent

simulators: {}  # e.g.:
  # pasds:
  #   s8-1:
  #     host: pasd-simulator-s8-1  # mandatory
  #     port: 8502  # optional, defaults to 502
  #     time_multiplier: 1  # optional, defaults to 1

configServers: {}  # e.g.:
  # ska-low:
  #   host: pasd-configuration-service
  #   port: 8081

# Reference data from Helm. (mainly used for simulator configuration.)
referenceData: {}
  # pasdconfiguration:
  #   s8-1:
  #     pasd:
  #       smartboxes:
  #         "1":
  #           fndh_port: 1
  #     antennas:
  #       "255":
  #         smartbox: "1"
  #         smartbox_port: 3
  #         masked: false

ska-tango-devices:
  domain: low
  subsystem: mccs
  labels:
    app: ska-low-mccs-pasd

  # deviceDefaults:
  #   MccsPasdBus:
  #     DevicePollingRate: 0.1
  #     PollingRate: 0.1
  #     Timeout: 1.0
  #     FEMCurrentTripThreshold: 700
  #     LoggingLevelDefault: 4

  # devices:
  #   low-mccs/fndh/s8-1:
  #   PasdFQDN: low-mccs/pasdbus/itf1
  #   LoggingLevelDefault: 5

  deviceServerTypes:
    pasd:
      metadata:
        component: pasd
      image:
        registry: artefact.skao.int
        name: ska-low-mccs-pasd
        tag: 0.17.0
        pullPolicy: IfNotPresent
      command: pasd_device_server
      resources:
        requests:
          cpu: 20m
          memory: 50Mi
      livenessProbe:
        initialDelaySeconds: 0
        periodSeconds: 10
        timeoutSeconds: 3
        successThreshold: 1
        failureThreshold: 3
      readinessProbe:
        initialDelaySeconds: 0
        periodSeconds: 10
        timeoutSeconds: 3
        successThreshold: 1
        failureThreshold: 3

  # deviceServers:
  #   pasd:
  #     fieldstation-s8-1:
  #       expose: true
  #       devices:
  #         MccsFieldStation:
  #         - low-mccs/fieldstation/s8-1
  #     pasdbus-s8-1:
  #       devices:
  #         MccsPasdBus:
  #         - low-mccs/pasdbus/s8-1
  #     fndh-s8-1:
  #       depends_on:
  #       - device: low-mccs/pasdbus/s8-1
  #       devices:
  #         MccsFNDH:
  #         - low-mccs/fndh/s8-1
  #     fncc-s8-1:
  #       devices:
  #         MccsFncc:
  #         - low-mccs/fncc/s8-1
  #     smartbox-s8-1-sb01:
  #       depends_on:
  #       - device: low-mccs/pasdbus/s8-1
  #       devices:
  #         MccsSmartbox:
  #         - low-mccs/smartbox/s8-1-sb01
